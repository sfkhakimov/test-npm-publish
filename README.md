# react-guide 
Библиотека которая позволяет создавать потрясающие интерактивные инструкции

## [Introduction](#introduction)

Однажды передо мной стояла задача создать большую интерактивную инструкцию с помощью которой можно было провести пользователя по определенному процессу
пользования сайтом. На тот я пробовал реализовать это с помощью таких библиотек как `react-joyride` и `reactour`. Это классные библиотеки, но не
совсем подходили под мои условия задачи. Мне нужно было учитывать что элемент может не сразу появится на страницу, или что его размеры могут меняться,
он может двигаться или пользователь случайно перезагрузит страницу. Тогда мне пришла в голову идея создания новой библиотеки которая решала бы
эти проблемы


## [QuickStart](#quick-start)

Для начала необходимо установить пакет:

```commandline
npm i react-guide
```

Затем чтобы использовать инструкцию вам нужно обернуть ваше приложение с помощью `GuideProvider` и передать ему шаги вашей инструкции
в виде `steps`. Также вам нужно передать `PopperContent` который будет отображать ваш контент подсказки:

```tsx
import React from 'react'
import { GuideProvider, PopperContentProps } from 'react-guide'

const steps = [
    {
        selector: '[data-guide=One]',
        content: 'Контент первого шага', // Здесь вы можете разместить ваш контент. Это может быть любой JSX.Element
    },
    {
        selector: '[data-guide=Two]',
        content: 'Контент второго шага',
    },
    {
        selector: '[data-guide=Three]',
        content: 'Контент третьего шага',
    },
]

const PopperContent = ({
    content,
    goNextStep,
    goBackStep,
    skip,
}: PopperContentProps) => {

    return (
        <div>
            {content}
            <button onClick={skip}>skip</button>
            <button onClick={goBackStep}>back</button>
            <button onClick={goNextStep}>next</button>

        </div>
    )
}

const App = ({ children }) => {

    return (
        <GuideProvider
            PopperContent={PopperContent}
            steps={steps}
        >
                {children}
        </GuideProvider>
    )
}
```


Чтобы запустить инструкцию вам нужно вызвать функцию `start` из `useGuideHelper`:

```tsx
import { useGuideHelpers } from 'react-guide'

const MyComponent = () => {
    const { start } = useGuideHelpers()
    return (
        <div>
            ...тут какой-то контент
            <button onClick={start}>Start guide</button>
        </div>
    )
}
```

## Types

### GuideProviderProps

`rootEl?`: селектор в теле которого будут размещены компоненты инструкции. По умолчанию `body`  
`localStorageKey?`: ключ для сохранения шагов инструкции в локал стораж, если передан то инструкция будет запоминать состояние при перезагрузке страницы  
`loadingTimeout?`: время в миллисекундах которое инструкция будет ждать появления шага на странице. По умолчанию `5000`  
`loader?`: JSX.Element который будет отображаться пока инструкция ожидает `loadingTimeout`  
`steps`: массив шагов инструкции  
`styles?`: объект стилей. Можно передать стили `popper`, `mask` и `overlay`  
`padding?`: отступы для `popper`, `mask` и `overlay`  
`placement?`: расположение инструкции, этим свойством можно управлять на уровне каждого шага. По умолчанию `bottom`  
`disableInteraction?`: блокирует возможность взаимодействия с подсвечиваемой областью. По умолчанию `none`  
`afterOpen?`: функция которая будет запущена при монтировании провайдера  
`beforeClose?`: функция которая будет запущена при размонтировании провайдера  
`onClickHighlighted?`: функция клика по фону  
`scrollSmooth?`: отвечает за плавность скролинга. Если `true` то скролл будет `smooth` иначае `auto`. По умолчанию `true`  
`PopperContent`: компонент который будет передан в контент подсказки  
`Wrapper?`: компонент обертка для всех компонентов `GuideProvider`. Пол умолчанию `React.Fragment`  
`onChangeStep?`: асинхронная функция которая будет вызываться при изменении шага  
`defaultOpen?`: по умолчанию `false`. Если `true` инструкция будет сразу запущена  
`startAt?`: по умолчанию `0`. Индекс шага с которого начинается инструкция  
`beforeStart?`: асинхронная функция которая будет выполнена перед запуском инструкции  
`afterStart?`: асинхронная функция которая будет выполнена сразу после запуска инструкции  
`beforeStop?`: асинхронная функция которая будет выполнена перед остановкой инструкции  
`afterStop?`: асинхронная функция которая будет выполнена после остановки инструкции


## StepType
`selector`: css селектор вашего шага  
`title?`: заголовок шага  
`content`: контент шага  
`placement?`: расположение подсказки рядом с подсвечиваемой областью  
`stepInteraction?`: если `true` то с подсвеченным контентом можно взаимодействовать  
`padding?`: отступы для `popper`, `mask` и `overlay`  
`styles?`: стили для `popper`, `mask` и `overlay`  
`loadingTimeout?`: время в миллисекундах которое инструкция будет ждать появления шага на странице. По умолчанию `5000`  
`onBeforeStep?`: асинхронная функция которая будет выполнена перед переходом  
`onAfterStep?`: асинхронная функция которая будет выполнена после перехода  
`onChangeStep?`: асинхронная функция которая будет выполняться при переходе  
`meta?`: любая ваша информация, будет доступна внутри `PopperContent`  
`canDisplayWhenPageReload?`: отвечает за то, должен ли этот шаг отобразится в случае перезагрузки страницы.  
по умолчанию `true`. Если `false` то отобразит предыдущий шаг  
`disableNextStepBtn?`: заблокировать кнопку `назад`  
`disableBackStepBtn?`: заблокировать кнопку `вперед`  
